{% extends 'base.html' %} 

{% block body %}



{% if shows %}
<h1>Results ... </h1>
    {% for show in shows %}
    <div class="border border-secondary">
        <h5>{{show.title}}</h5>
        {% if session.user_id %}
            {% if show.has_followers %}
                {% for follower in show.has_followers if follower.user_id == session.user_id %}   
                    <a href="{{url_for('unlikes_show', show_id = show.id)}}" class="btn btn-primary">Unlike</a>
                {% else %}
                    <a href="{{url_for('likes_show', show_id = show.id)}}" class="btn btn-primary">Like</a>
                {% endfor %}
            
            {% else %}
            <a href="{{url_for('likes_show', show_id = show.id)}}" class="btn btn-primary">Like</a>
            {% endif %}

        {% else %}
            <a href="{{url_for('login')}}" class="btn btn-primary">Like</a>
        {% endif %}
    </div>
    {% endfor %}

{% else %}
<h1>No Results</h1>

{% endif %}

{% endblock %}
